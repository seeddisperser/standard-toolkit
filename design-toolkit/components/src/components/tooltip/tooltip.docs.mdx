import { Canvas, Meta } from '@storybook/blocks';

import * as TooltipStories from './tooltip.stories';

<Meta of={TooltipStories} />

# Tooltip
The Tooltip component provides a floating label that explains an element when users hover over or focus on it. It's built on React Aria Components and provides excellent accessibility out of the box. Tooltips are commonly used to provide additional context, explanations, or help text for UI elements without cluttering the interface.

It is composed of the following components:

- **Tooltip.Trigger** - Main wrapper component that manages tooltip trigger and display logic
- **Tooltip** - The floating container that displays the tooltip content

## Example usage
```tsx
// Basic tooltip
<Tooltip.Trigger>
  <Button>Hover me</Button>
  <Tooltip>This is a helpful tooltip</Tooltip>
</Tooltip.Trigger>

// Tooltip with custom placement and offset
<Tooltip.Trigger>
  <Button>Click me</Button>
  <Tooltip placement="top" offset={10}>
    Tooltip above the button
  </Tooltip>
</Tooltip.Trigger>

// Tooltip with icon
<Tooltip.Trigger>
  //Tooltip.Trigger requires children to be focusable, requiring the Icon to be wrapped in a focusable element
  <button type='button'>
    <Icon><Info /></Icon>
  </button>
  <Tooltip>Additional information</Tooltip>
</Tooltip.Trigger>

// Long tooltip content
<Tooltip.Trigger>
  <Button>Long explanation</Button>
  <Tooltip>
    This tooltip contains a longer explanation that will wrap to multiple lines
  </Tooltip>
</Tooltip.Trigger>
```

## Variants

The Tooltip component has a single visual variant that automatically adapts based on its placement and content:
* **default** - displays with a subtle background, shadow, and rounded corners
* **placement-based** - automatically positions itself relative to the trigger element:
  * `bottom` - appears below the trigger (default)
  * `top` - appears above the trigger
  * `left` - appears to the left of the trigger
  * `right` - appears to the right of the trigger

<Canvas of={TooltipStories.Default} />

## Props

### Tooltip.Trigger Props
Implements all props from [Tooltip.Trigger](https://react-spectrum.adobe.com/react-aria/Tooltip.html#tooltiptrigger)
* **`children`** - Must contain exactly one focusable element and one `Tooltip` component

### Tooltip Props
Implements all props from [Tooltip](https://react-spectrum.adobe.com/react-aria/Tooltip.html#tooltip-1)
* **`parentRef`** - Ref to the parent container the tooltip should portal to

## Implementation Notes
The `Tooltip` component wraps the `Tooltip` and `TooltipTrigger` components from `react-aria-components`.

[Docs](https://react-spectrum.adobe.com/react-aria/Tooltip.html)

[Github Source](https://github.com/gohypergiant/standard-toolkit/tree/main/design-toolkit/components/src/components/tooltip)

The underlying elements are:
- `div` for the tooltip trigger wrapper
- `div` for the tooltip body with floating positioning
- `span` or other elements for the trigger content

The component automatically handles accessibility features including:
- ARIA attributes for screen readers
- Keyboard navigation (Tab to focus, Escape to dismiss)
- Focus management
- Proper labeling and descriptions
- Screen reader announcements

The component includes automatic positioning logic that ensures tooltips remain visible within the viewport, with smooth animations and proper z-index management. Tooltips automatically wrap long text content and maintain consistent styling across different placements.
